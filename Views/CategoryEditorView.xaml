<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:MAUIBUDGET"
             x:Class="MAUIBUDGET.CategoryEditorView"
             x:DataType="local:CategoryEditorView"
             x:Name="this" >
    <ContentView.Resources>
        <Style x:Key="InputLabelStyle" TargetType="Label">
            <Setter Property="Grid.Column" Value="0" />
            <Setter Property="VerticalOptions" Value="Center" />
            <Setter Property="FontAttributes" Value="Bold" />
        </Style>
    </ContentView.Resources>
    <Grid ColumnDefinitions="100,*" 
          RowDefinitions="Auto, Auto, Auto" 
          ColumnSpacing="0"
          RowSpacing="10"
          BindingContext="{x:Reference this}"
          HorizontalOptions="Fill">

        <Label Grid.Row="0" Text="Name" Style="{StaticResource InputLabelStyle}"/>
        <Entry Grid.Row="0" Grid.Column="1"
                       Text="{Binding Category.Name, Mode=TwoWay}"
                       VerticalOptions="Center"
                       HorizontalOptions="Fill" />

        <Label Grid.Row="1" Text="Budgeted" Style="{StaticResource InputLabelStyle}"/>
        <CheckBox Grid.Row="1" Grid.Column="1"
                          IsChecked="{Binding Category.HasBudget, Mode=TwoWay}"
                          VerticalOptions="Center"
                          HorizontalOptions="Start"
                          Margin="-10,0,0,0"/>

        <Grid Grid.Row="2"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    ColumnDefinitions="80,Auto,70,*"
                    IsVisible="{Binding Category.HasBudget, Mode=TwoWay}"
                    HorizontalOptions="Fill">

            <Label Grid.Column="0"
                        Text="Budget"
                        FontAttributes="Bold"
                        WidthRequest="80"
                        VerticalOptions="Center"
                        HorizontalOptions="Start"/>

            <Entry Grid.Column="1"
                        Keyboard="Numeric"
                        Text="{Binding Category.Budget, Mode=TwoWay}"
                        VerticalOptions="Center"
                        HorizontalOptions="Start"
                        WidthRequest="80"/>

            <Label Grid.Column="2"
                        Text="CZK per"
                        VerticalOptions="Center"
                           HorizontalOptions="Center"/>

            <Picker Grid.Column="3"
                        ItemsSource="{Binding PeriodValues}"
                        SelectedItem="{Binding Category.BudgetPeriod, Mode=TwoWay}"
                        VerticalOptions="Center"
                        HorizontalOptions="Fill"/>
        </Grid>
    </Grid>
</ContentView>
